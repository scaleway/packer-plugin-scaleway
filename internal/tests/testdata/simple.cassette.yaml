---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - packer-e2e-simple
            page:
                - "1"
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-1/images?name=packer-e2e-simple&page=1&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 612
        body: '{"images": [{"id": "765fb528-8d8c-4f7f-8b38-a4e8bbecb071", "name": "packer-e2e-simple", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "root_volume": {"volume_type": "sbs_snapshot", "id": "38ff451a-eaa2-44a3-99ef-7a5e746c18e7", "size": 0, "name": ""}, "extra_volumes": {}, "public": false, "arch": "x86_64", "creation_date": "2025-11-27T17:28:26.232837+00:00", "modification_date": "2025-11-27T17:28:26.232837+00:00", "default_bootscript": null, "from_server": "", "state": "available", "tags": ["devtools", "provider", "packer"], "zone": "fr-par-1"}]}'
        headers:
            Content-Length:
                - "612"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:28:27 GMT
            Link:
                - </images?page=1&per_page=50&name=packer-e2e-simple&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 9a1c9d18-c0eb-4781-b66f-d482ce46752a
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 234.698032ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/block/v1/zones/fr-par-1/snapshots/38ff451a-eaa2-44a3-99ef-7a5e746c18e7
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 598
        body: '{"id":"38ff451a-eaa2-44a3-99ef-7a5e746c18e7", "name":"snp-funny-lamport", "parent_volume":null, "size":10000000000, "project_id":"19a4819b-24bf-4d44-969f-935ef0061b71", "created_at":"2025-11-27T17:28:20.155975Z", "updated_at":"2025-11-27T17:28:26.273205Z", "references":[{"id":"f2ba0516-9f75-4713-88d7-804703998c97", "product_resource_type":"instance_image", "product_resource_id":"765fb528-8d8c-4f7f-8b38-a4e8bbecb071", "created_at":"2025-11-27T17:28:26.273205Z", "type":"link", "status":"attached"}], "status":"in_use", "tags":["devtools", "provider", "packer"], "class":"sbs", "zone":"fr-par-1"}'
        headers:
            Content-Length:
                - "598"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:28:28 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - e59e12ee-461f-4989-a8a8-ad66b97ab0c2
        status: 200 OK
        code: 200
        duration: 752.248914ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            include_deleted:
                - "false"
            name:
                - snp-
            order_by:
                - created_at_asc
            project_id:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/block/v1/zones/fr-par-1/snapshots?include_deleted=false&name=snp-&order_by=created_at_asc&project_id=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 402
        body: '{"snapshots":[{"id":"38ff451a-eaa2-44a3-99ef-7a5e746c18e7", "name":"snp-funny-lamport", "parent_volume":null, "size":10000000000, "project_id":"19a4819b-24bf-4d44-969f-935ef0061b71", "created_at":"2025-11-27T17:28:20.155975Z", "updated_at":"2025-11-27T17:28:26.273205Z", "references":[], "status":"in_use", "tags":["devtools", "provider", "packer"], "class":"sbs", "zone":"fr-par-1"}], "total_count":1}'
        headers:
            Content-Length:
                - "402"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:28:28 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 0ef48187-ca08-4d9f-8edc-0ef68a60edbd
        status: 200 OK
        code: 200
        duration: 44.840838ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes?project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 15
        body: '{"volumes": []}'
        headers:
            Content-Length:
                - "15"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:28:28 GMT
            Link:
                - </volumes?page=0&per_page=100&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 5f80c4d0-0d36-4d0e-8539-7c222e5c1a57
            X-Total-Count:
                - "0"
        status: 200 OK
        code: 200
        duration: 76.400023ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            include_deleted:
                - "false"
            order_by:
                - created_at_asc
            project_id:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/block/v1/zones/fr-par-1/volumes?include_deleted=false&order_by=created_at_asc&project_id=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 31
        body: '{"volumes":[], "total_count":0}'
        headers:
            Content-Length:
                - "31"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:28:28 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 67a36665-b3cf-4ef5-b541-075f33dbb00d
        status: 200 OK
        code: 200
        duration: 62.232635ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - packer-e2e-simple
            page:
                - "1"
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-1/images?name=packer-e2e-simple&page=1&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 612
        body: '{"images": [{"id": "765fb528-8d8c-4f7f-8b38-a4e8bbecb071", "name": "packer-e2e-simple", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "root_volume": {"volume_type": "sbs_snapshot", "id": "38ff451a-eaa2-44a3-99ef-7a5e746c18e7", "size": 0, "name": ""}, "extra_volumes": {}, "public": false, "arch": "x86_64", "creation_date": "2025-11-27T17:28:26.232837+00:00", "modification_date": "2025-11-27T17:28:26.232837+00:00", "default_bootscript": null, "from_server": "", "state": "available", "tags": ["devtools", "provider", "packer"], "zone": "fr-par-1"}]}'
        headers:
            Content-Length:
                - "612"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:28:29 GMT
            Link:
                - </images?page=1&per_page=50&name=packer-e2e-simple&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - ee276225-ac16-4f70-8450-ec249c6f7317
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 213.725637ms
    - id: 6
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-1/images/765fb528-8d8c-4f7f-8b38-a4e8bbecb071
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 0
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:28:29 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - fab5afa4-76e7-44c5-b105-8d70ad21c96c
        status: 204 No Content
        code: 204
        duration: 347.588052ms
    - id: 7
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            include_deleted:
                - "false"
            name:
                - snp-
            order_by:
                - created_at_asc
            page:
                - "1"
            project_id:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/block/v1/zones/fr-par-1/snapshots?include_deleted=false&name=snp-&order_by=created_at_asc&page=1&project_id=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 402
        body: '{"snapshots":[{"id":"38ff451a-eaa2-44a3-99ef-7a5e746c18e7", "name":"snp-funny-lamport", "parent_volume":null, "size":10000000000, "project_id":"19a4819b-24bf-4d44-969f-935ef0061b71", "created_at":"2025-11-27T17:28:20.155975Z", "updated_at":"2025-11-27T17:28:26.273205Z", "references":[], "status":"in_use", "tags":["devtools", "provider", "packer"], "class":"sbs", "zone":"fr-par-1"}], "total_count":1}'
        headers:
            Content-Length:
                - "402"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:28:29 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 28de4a59-4e10-42cd-a370-d21a3631fe40
        status: 200 OK
        code: 200
        duration: 40.769778ms
    - id: 8
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/block/v1/zones/fr-par-1/snapshots/38ff451a-eaa2-44a3-99ef-7a5e746c18e7
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 0
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:28:30 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - e12c7c4b-e069-4b2e-9cc0-61d5363e1051
        status: 204 No Content
        code: 204
        duration: 770.16265ms
