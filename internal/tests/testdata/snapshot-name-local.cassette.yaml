---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - packer-e2e-snap-name-local
            page:
                - "1"
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-2/images?name=packer-e2e-snap-name-local&page=1&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 644
        body: '{"images": [{"id": "e824b36f-f6fe-467c-a8c7-27093145ab29", "name": "packer-e2e-snap-name-local", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "root_volume": {"id": "ed2c8cbb-7e7b-4f52-bfd0-a70d6b5b2b5a", "name": "named-local-snapshot", "volume_type": "l_ssd", "size": 10000000000}, "extra_volumes": {}, "public": false, "arch": "x86_64", "creation_date": "2025-11-27T19:59:27.839952+00:00", "modification_date": "2025-11-27T19:59:27.839952+00:00", "default_bootscript": null, "from_server": "", "state": "available", "tags": ["test", "snapshot-name", "local"], "zone": "fr-par-2"}]}'
        headers:
            Content-Length:
                - "644"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 19:59:28 GMT
            Link:
                - </images?page=1&per_page=50&name=packer-e2e-snap-name-local&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - fb60100d-6184-473b-93b5-f4783852d126
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 207.062371ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - named-local-snapshot
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-2/snapshots?name=named-local-snapshot&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 569
        body: '{"snapshots": [{"id": "ed2c8cbb-7e7b-4f52-bfd0-a70d6b5b2b5a", "name": "named-local-snapshot", "volume_type": "l_ssd", "creation_date": "2025-11-27T19:59:27.428655+00:00", "modification_date": "2025-11-27T19:59:27.428655+00:00", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "size": 10000000000, "state": "available", "base_volume": {"id": "7e06109d-46fe-42c9-b1df-de95386898cf", "name": "Ubuntu 22.04 Jammy Jellyfish"}, "tags": ["test", "snapshot-name", "local"], "zone": "fr-par-2", "error_details": null}]}'
        headers:
            Content-Length:
                - "569"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 19:59:28 GMT
            Link:
                - </snapshots?page=1&per_page=50&name=named-local-snapshot&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - db262151-cfa6-4fcc-9e0d-78e7e8ebf921
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 122.303706ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - Ubuntu
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-2/volumes?name=Ubuntu&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 465
        body: '{"volumes": [{"id": "7e06109d-46fe-42c9-b1df-de95386898cf", "name": "Ubuntu 22.04 Jammy Jellyfish", "volume_type": "l_ssd", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "server": null, "size": 10000000000, "state": "available", "creation_date": "2025-11-27T19:57:59.389506+00:00", "modification_date": "2025-11-27T19:59:28.143507+00:00", "tags": ["test", "snapshot-name", "local"], "zone": "fr-par-2"}]}'
        headers:
            Content-Length:
                - "465"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 19:59:28 GMT
            Link:
                - </volumes?page=1&per_page=100&name=Ubuntu&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 3ff3dbb9-85ad-417a-8c42-678bf2ec0813
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 74.206523ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - packer-e2e-snap-name-local
            page:
                - "1"
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-2/images?name=packer-e2e-snap-name-local&page=1&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 644
        body: '{"images": [{"id": "e824b36f-f6fe-467c-a8c7-27093145ab29", "name": "packer-e2e-snap-name-local", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "root_volume": {"id": "ed2c8cbb-7e7b-4f52-bfd0-a70d6b5b2b5a", "name": "named-local-snapshot", "volume_type": "l_ssd", "size": 10000000000}, "extra_volumes": {}, "public": false, "arch": "x86_64", "creation_date": "2025-11-27T19:59:27.839952+00:00", "modification_date": "2025-11-27T19:59:27.839952+00:00", "default_bootscript": null, "from_server": "", "state": "available", "tags": ["test", "snapshot-name", "local"], "zone": "fr-par-2"}]}'
        headers:
            Content-Length:
                - "644"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 19:59:29 GMT
            Link:
                - </images?page=1&per_page=50&name=packer-e2e-snap-name-local&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - aed476a2-6af4-439f-be14-1799971694a4
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 158.141771ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-2/images/e824b36f-f6fe-467c-a8c7-27093145ab29
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 0
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 19:59:29 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 1935c7a7-1e19-4f33-b59a-8de540d61b68
        status: 204 No Content
        code: 204
        duration: 215.022666ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - named-local-snapshot
            page:
                - "1"
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-2/snapshots?name=named-local-snapshot&page=1&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 569
        body: '{"snapshots": [{"id": "ed2c8cbb-7e7b-4f52-bfd0-a70d6b5b2b5a", "name": "named-local-snapshot", "volume_type": "l_ssd", "creation_date": "2025-11-27T19:59:27.428655+00:00", "modification_date": "2025-11-27T19:59:27.428655+00:00", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "size": 10000000000, "state": "available", "base_volume": {"id": "7e06109d-46fe-42c9-b1df-de95386898cf", "name": "Ubuntu 22.04 Jammy Jellyfish"}, "tags": ["test", "snapshot-name", "local"], "zone": "fr-par-2", "error_details": null}]}'
        headers:
            Content-Length:
                - "569"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 19:59:29 GMT
            Link:
                - </snapshots?page=1&per_page=50&name=named-local-snapshot&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - dbb405f8-5923-42ef-b1ce-67af3f9d2384
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 131.114017ms
    - id: 6
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-2/snapshots/ed2c8cbb-7e7b-4f52-bfd0-a70d6b5b2b5a
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 0
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 19:59:29 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 0de61237-3cdd-4bd3-8580-4a142757a581
        status: 204 No Content
        code: 204
        duration: 147.413179ms
    - id: 7
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - Ubuntu
            page:
                - "1"
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-2/volumes?name=Ubuntu&page=1&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 465
        body: '{"volumes": [{"id": "7e06109d-46fe-42c9-b1df-de95386898cf", "name": "Ubuntu 22.04 Jammy Jellyfish", "volume_type": "l_ssd", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "server": null, "size": 10000000000, "state": "available", "creation_date": "2025-11-27T19:57:59.389506+00:00", "modification_date": "2025-11-27T19:59:28.143507+00:00", "tags": ["test", "snapshot-name", "local"], "zone": "fr-par-2"}]}'
        headers:
            Content-Length:
                - "465"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 19:59:29 GMT
            Link:
                - </volumes?page=1&per_page=100&name=Ubuntu&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 54fd1688-5f91-4b7d-8c52-44c4a5340c61
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 75.899963ms
    - id: 8
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-2/volumes/7e06109d-46fe-42c9-b1df-de95386898cf
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 0
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 19:59:29 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 9c85a7ec-6ad3-4bcc-8d57-2a6d90206a0a
        status: 204 No Content
        code: 204
        duration: 107.368154ms
