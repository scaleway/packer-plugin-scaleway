---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - packer-e2e-root-volume-local
            page:
                - "1"
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-1/images?name=packer-e2e-root-volume-local&page=1&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 611
        body: '{"images": [{"id": "1212800b-1a73-4e83-bab3-73db60a20006", "name": "packer-e2e-root-volume-local", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "root_volume": {"id": "884c97e9-8c13-4a6a-bcb2-a8dc5b622788", "name": "packer-1764264285", "volume_type": "l_ssd", "size": 20000000000}, "extra_volumes": {}, "public": false, "arch": "x86_64", "creation_date": "2025-11-27T17:25:59.020341+00:00", "modification_date": "2025-11-27T17:25:59.020341+00:00", "default_bootscript": null, "from_server": "", "state": "available", "tags": [], "zone": "fr-par-1"}]}'
        headers:
            Content-Length:
                - "611"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:26:00 GMT
            Link:
                - </images?page=1&per_page=50&name=packer-e2e-root-volume-local&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - b6dba9e7-f40f-4c6c-ba15-99e0ebf625ca
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 214.655268ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - packer-
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots?name=packer-&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 452
        body: '{"snapshots": [{"id": "884c97e9-8c13-4a6a-bcb2-a8dc5b622788", "name": "packer-1764264285", "volume_type": "l_ssd", "creation_date": "2025-11-27T17:25:58.679445+00:00", "modification_date": "2025-11-27T17:25:59.378052+00:00", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "size": 20000000000, "state": "available", "base_volume": null, "tags": [], "zone": "fr-par-1", "error_details": null}]}'
        headers:
            Content-Length:
                - "452"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:26:00 GMT
            Link:
                - </snapshots?page=1&per_page=50&name=packer-&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 2c3d10ec-7332-43ea-8c5f-8306be235199
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 148.830456ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes?project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 15
        body: '{"volumes": []}'
        headers:
            Content-Length:
                - "15"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:26:00 GMT
            Link:
                - </volumes?page=0&per_page=100&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 34a1b97c-575a-4356-a2a5-10dc56ec75b9
            X-Total-Count:
                - "0"
        status: 200 OK
        code: 200
        duration: 67.556502ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            include_deleted:
                - "false"
            order_by:
                - created_at_asc
            project_id:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/block/v1/zones/fr-par-1/volumes?include_deleted=false&order_by=created_at_asc&project_id=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 31
        body: '{"volumes":[], "total_count":0}'
        headers:
            Content-Length:
                - "31"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:26:00 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - e0a2e462-f6cd-42ca-9e04-8fc0276d2f9e
        status: 200 OK
        code: 200
        duration: 58.866916ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - packer-e2e-root-volume-local
            page:
                - "1"
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-1/images?name=packer-e2e-root-volume-local&page=1&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 611
        body: '{"images": [{"id": "1212800b-1a73-4e83-bab3-73db60a20006", "name": "packer-e2e-root-volume-local", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "root_volume": {"id": "884c97e9-8c13-4a6a-bcb2-a8dc5b622788", "name": "packer-1764264285", "volume_type": "l_ssd", "size": 20000000000}, "extra_volumes": {}, "public": false, "arch": "x86_64", "creation_date": "2025-11-27T17:25:59.020341+00:00", "modification_date": "2025-11-27T17:25:59.020341+00:00", "default_bootscript": null, "from_server": "", "state": "available", "tags": [], "zone": "fr-par-1"}]}'
        headers:
            Content-Length:
                - "611"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:26:00 GMT
            Link:
                - </images?page=1&per_page=50&name=packer-e2e-root-volume-local&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 90e3ca27-c6fe-4903-b6b3-b9bc4a1af3a5
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 186.413851ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-1/images/1212800b-1a73-4e83-bab3-73db60a20006
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 0
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:26:00 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 53028233-4b0e-4de4-a21c-8445a7e43001
        status: 204 No Content
        code: 204
        duration: 331.6638ms
    - id: 6
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        form:
            name:
                - packer-
            page:
                - "1"
            project:
                - 19a4819b-24bf-4d44-969f-935ef0061b71
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots?name=packer-&page=1&project=19a4819b-24bf-4d44-969f-935ef0061b71
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 452
        body: '{"snapshots": [{"id": "884c97e9-8c13-4a6a-bcb2-a8dc5b622788", "name": "packer-1764264285", "volume_type": "l_ssd", "creation_date": "2025-11-27T17:25:58.679445+00:00", "modification_date": "2025-11-27T17:25:59.378052+00:00", "organization": "fa1e3217-dc80-42ac-85c3-3f034b78b552", "project": "19a4819b-24bf-4d44-969f-935ef0061b71", "size": 20000000000, "state": "available", "base_volume": null, "tags": [], "zone": "fr-par-1", "error_details": null}]}'
        headers:
            Content-Length:
                - "452"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:26:00 GMT
            Link:
                - </snapshots?page=1&per_page=50&name=packer-&project=19a4819b-24bf-4d44-969f-935ef0061b71>; rel="last"
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - dc903e99-2cf4-40c7-bc84-bbcb64f49cb7
            X-Total-Count:
                - "1"
        status: 200 OK
        code: 200
        duration: 120.984002ms
    - id: 7
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64)
        url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/884c97e9-8c13-4a6a-bcb2-a8dc5b622788
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 0
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 27 Nov 2025 17:26:01 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 7dce26be-24ec-4f2c-b0e8-83d955dcb219
        status: 204 No Content
        code: 204
        duration: 133.196669ms
